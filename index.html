<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chinese Numeral Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f8f9fa;
        }
        .calculator {
            background-color: #fff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            width: 300px;
        }
        .display {
            height: 50px;
            font-size: 1.5rem;
            text-align: right;
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <input type="text" id="input" class="display" placeholder="Enter calculation">
        <div class="d-grid gap-2">
            <button class="btn btn-primary" onclick="calculate()">Calculate</button>
            <button class="btn btn-secondary" onclick="clearInput()">Clear</button>
        </div>
        <div class="mt-3">
            <strong>Result in Chinese:</strong>
            <p id="result" style="font-size: 1.3rem; color: #007bff;"></p>
        </div>
    </div>

    <script>
        // Calculator done by Kingsley

        // Mapping digits to Chinese numerals
        const chineseDigits = ['零', '一', '二', '三', '四', '五', '六', '七', '八', '九'];
        const chineseUnits = ['', '十', '百', '千', '万', '十万', '百万', '千万', '亿'];

        function numberToChinese(num) {
            if (num === 0) return chineseDigits[0];
            
            let str = '';
            const numStr = Math.floor(num).toString();
            const len = numStr.length;

            for (let i = 0; i < len; i++) {
                const n = parseInt(numStr[i]);
                const unitIndex = len - i - 1;
                if (n !== 0) {
                    str += chineseDigits[n] + chineseUnits[unitIndex];
                } else {
                    // Avoid consecutive zeros
                    if (!str.endsWith(chineseDigits[0])) {
                        str += chineseDigits[0];
                    }
                }
            }
            // Remove trailing zero
            if (str.endsWith(chineseDigits[0])) str = str.slice(0, -1);
            return str;
        }

        function calculate() {
            const input = document.getElementById('input').value;
            let resultText = '';
            try {
                const result = eval(input); // Simple calculation
                resultText = numberToChinese(result);
            } catch (e) {
                resultText = 'Invalid Input';
            }
            document.getElementById('result').innerText = resultText;
        }

        function clearInput() {
            document.getElementById('input').value = '';
            document.getElementById('result').innerText = '';
        }
    </script>
</body>
</html>

